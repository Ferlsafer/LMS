{% extends "base.html" %}

{% block title %}Edit Book{% endblock %}

{% block content %}
<section class="full-width-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card rounded my-4">
                    <div class="card-body">
                        <h2 class="text-center mb-4">Edit Book</h2>
                        <form action="{% url 'edit_book' book.id %}" method="POST">
                            {% csrf_token %}
                            <div class="mb-3">
                                <label for="title" class="form-label">Title:</label>
                                <input type="text" name="title" id="title" value="{{ book.title }}" class="form-control" required>
                            </div>

                            <div class="mb-3">
                                <label for="author" class="form-label">Author:</label>
                                <select name="author" id="author" class="form-select" required>
                                    {% for author in authors %}
                                    <option value="{{ author.id }}" {% if author.id == book.author.id %}selected{% endif %}>
                                        {{ author.name }}
                                    </option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="mb-3">
                                <label for="isbn" class="form-label">ISBN:</label>
                                <input type="text" name="isbn" id="isbn" value="{{ book.isbn }}" class="form-control" required>
                            </div>

                            <div class="mb-3">
                                <label for="publication_date" class="form-label">Publication Date:</label>
                                <input type="date" name="publication_date" id="publication_date" value="{{ book.publication_date }}" class="form-control" required>
                            </div>

                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary btn-block">Update Book</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
